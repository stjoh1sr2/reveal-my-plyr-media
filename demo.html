<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Reveal My Plyr Media</title>

		<link rel="stylesheet" href="demo/reveal/css/reset.css">
		<link rel="stylesheet" href="demo/reveal/css/reveal.css">
		<link rel="stylesheet" href="demo/reveal/css/theme/blood.css">
		<link rel="stylesheet" href="my-plyr-media/tracking/css/tracking.css">
		<link rel="stylesheet" href="https://cdn.plyr.io/3.7.2/plyr.css" />
		
		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="demo/reveal/plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<p>Text Test Slide</p>
					<aside class="notes">
						<p>Some notes</p>
					</aside>
						<p>Some slide text</p>
					<aside class="notes">
						<p>and some more notes</p>
					</aside>
				</section>
				<section>
					<div class="plyr__video-embed" id="player">
						<iframe
							src="https://www.youtube.com/watch?v=YE7VzlLtp-4"
							allowtransparency
							allow="autoplay">
						</iframe>
					</div>
				</section>
				<section>
					<div class="plyr__video-embed" id="player">
						<iframe
							src="https://player.vimeo.com/video/1084537?h=b1b3ab5aa2"
							allowtransparency
							allow="autoplay">
						</iframe>
					</div>
				</section>
			</div>
		</div>
	
		<script src="reveal-my-plyr-media/plugin.js"></script>
		<script src="demo/reveal/js/reveal.js"></script>
		<script src="demo/reveal/plugin/notes/notes.js"></script>
		<script src="demo/reveal/plugin/markdown/markdown.js"></script>
		<script src="demo/reveal/plugin/highlight/highlight.js"></script>
		<script src="reveal-my-plyr-media/tracking/js/tracking"></script>
		<script src="https://cdn.plyr.io/3.7.2/plyr.polyfilled.js"></script>
		<script>
			const player = new Plyr('#player');
			
			Reveal.initialize({
				hash: true,
				tracking: {
					apiConfig: {
						authenticationAPI: {
							// configure the API where to request a user token from
							requestTokenEndpoint: 'https://learning.analytics/api/authentication/generate-token',
						},
						// configure where to send the tracked data
						trackingAPI: 'https://c5255c65-a238-4663-9ed3-569e1dbcf530.mock.pstmn.io',
					},
					consentBanner: false,
					dwellTime: true,
					links: true,
					media: true,
					slideTransitions: true,
				},
				dependencies: [{ src: 'reveal-my-plyr-media/tracking/js/tracking.js', async: false }],
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			}).then(() => { 
				Reveal.getPlugin('tracking').giveConsent();
			});
		</script>
	</body>
</html>
